<!doctype html> 
<html lang="en-us"> 
<head>
  <meta charset="utf-8">
  <title>UCOSP</title>
  <meta name="author" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  
  <link rel="icon" href="//haruute0.github.io/hugo-ucosp/favicon.png" />
  <link rel="apple-touch-icon-precomposed" href="//haruute0.github.io/hugo-ucosp/apple-touch-icon.png" />
  
  
  <link rel="stylesheet" href="//haruute0.github.io/hugo-ucosp/style.css" />
  
  

</head>

<body class="">

  

  <div class="wrap">
    <header class="mb">
      <h1 class="h2 m-0"><a href="/">UCOSP</a></h1>
      <p class="site-description"></p>
    </header>


<main>
<article class="post">
  <h1><a href="https://haruute0.github.io/hugo-ucosp/2016/01/12/how-to-generate-uml-diagram-of-models-in-django-project/" title="How to Generate UML Diagram of Models in Django Project">How to Generate UML Diagram of Models in Django Project</a></h1>
  

<p>(An experience report from YorieÂ Nakayama)</p>

<p>If you are developing with python on Django, or on any frameworks that employ
the MVC (Model-View-Controller) paradigm, you might come across whether there
is a way to easily visualize all the models and their dependency relationships
in your application as a diagram. Models are central to most applications using
MVC, and being able to glance at the structure of models and their
relationships to each other greatly helps any developer beginning to hack on
the codebase.</p>

<p>When I worked with Reviewboard, a Django-based web app for doing code reviews,
for my UCOSP, one of the first things I did was to generate a UML diagram of
the models in the project using an extension package for Django called
django-extensions. The diagram would let the students, who are new to the
project, to see the overall picture of the models, and also let the mentors
easily explain how some models are related to each other.</p>

<p>This post will provide a step-by-step instruction on generating a UML
diagram of a Django application using django-extensions. Similar tools
also exist for other MVC frameworks, such as railroady gem for Ruby on
Rails, or phuml for PHP (not limited to CodeIgniter).</p>

<h4 id="1-install-dependencies">1. Install Dependencies.</h4>

<p>For python, you need to install either pydot or pygraphviz as a python
interface of the graph visualization library called graphviz. Either will be
fine as far as django-extensions is concerned. I went with pydot because I had
a trouble installing pygraphviz. If you choose to go with pygraphviz, you can
ignore this step and resume from step 2 after installing pygraphviz.</p>

<pre><code>pip install pyparsing==1.5.7
  
pip install graphviz
  
pip install pydot
</code></pre>

<p>The version is specified on pyparsing installation because pydot is not
compatible with newer (&gt;=2.x.x) versions of pyparsing. I recommend that
graphviz is installed before pydot to avoid an issue where pydot is not
able to find graphviz executable. A similar installation issue may also
occur with pygraphviz.</p>

<h4 id="2-install-django-extensions">2. Install django-extensions.</h4>

<p>Django-extensions provides various tools that could help development of
Django applications such as enhanced shell, or UML diagram generation.</p>

<p><code>pip install django-extensions</code></p>

<h4 id="3-enable-django-extensions-in-your-project">3. Enable django-extensions in your project.</h4>

<p>Under your Django project directory, open the file setting.py with a
text editor. Within the settings, you should find a python list called
INSTALLED_APPS.</p>

<p>Append &#8216;django_extensions&#8217; to the list and save. Then you can use the functionalities that django-extensions provides.</p>

<h4 id="4-generate-the-uml-diagram">4. Generate the UML diagram.</h4>

<p>On a command shell, go to the Django project directory, and execute the
following command to generate your diagram of all models in the project.</p>

<p><code>python manage.py graph\_models -a -o myapp\_models.png</code></p>

<p>The -a flag specifies to include all apps listed in INSTALLED_APPS for
diagram generation. The output path is relative to the project root
directory.</p>

<p>If you decide that your project does not need django-extensions, you can
simply remove &#8216;django_extensions&#8217; from INSTALLED_APPS in settings.py.</p>

<p>With a UML diagram for your models, you can easily see the overall
picture of the data organization in your application. Hopefully this
diagram could help a new member on a Django project to find where to
start with the development.</p>

<p>&#8212; Yorie Nakayama</p>

  <p class="small gray"><time datetime="2016-01-12">Jan 12, 2016</time></p>
</article>
</main>
</div>



</body>
</html>
